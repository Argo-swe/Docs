%%%%%%%%%%%%%%
%  COSTANTI  %
%%%%%%%%%%%%%%

% In questa prima parte vanno definite le 'costanti' utilizzate da due o più documenti.

% Serve a dare la giusta formattazione alle parole presenti nel glossario
% il nome del comando \glossary è già usato da LaTeX
% permette di distingure la prima occorrenza della parola nel documento
\usepackage{xparse}
\ExplSyntaxOn
\seq_new:N \l_hernan_seq
\NewDocumentCommand{\glossario}{m}{
    \seq_if_in:NnTF{\l_hernan_seq}{#1}{
      \textit{#1\ped{\ped{G}}}
    }{
      \seq_put_left:Nn{\l_hernan_seq}{#1}
      \textit{#1\ped{\ped{G}}}
    }
}
\ExplSyntaxOff

% Meglio non mettere gli \emph dentro le costanti, in certi casi creano problemi
\newcommand{\GroupName}{Argo}
\newcommand{\GroupEmail}{argo.unipd@gmail.com}
\newcommand{\ProjectName}{ChatSQL}
\newcommand{\ProjectVersion}{}

\newcommand{\Proponente}{Zucchetti S.p.A.}
\newcommand{\Committente}{Prof. Tullio Vardanega \\ Prof. Riccardo Cardin}
\newcommand{\CommittenteInline}{Prof. Tullio Vardanega, Prof. Riccardo Cardin}
\newcommand{\ResponsabileInCarica}{\mattia}

% La versione dei documenti deve essere definita qui in global, perchè serve anche agli altri documenti
\newcommand{\VersioneNP}{1.1.0}  % Norme di Progetto
\newcommand{\VersioneG}{2.0.0}   % Glossario
\newcommand{\VersionePQ}{2.0.0}  % Piano di Qualifica
\newcommand{\VersioneAR}{2.0.0}  % Analisi dei Requisiti
\newcommand{\VersioneST}{1.0.0} % Specifica Tecnica
\newcommand{\VersionePP}{1.0.9}  % Piano di Progetto
\newcommand{\VersioneMU}{0.1.1} % Manuale Utente

% Il verbale non ha versionamento.
% Lasciare vuoto, non mettere trattini o puntini
% Non sono permessi numeri nel nome di un comando :(
\newcommand{\VersioneVprimo}{}
\newcommand{\VersioneVsecondo}{}

% Per riferirsi ad alti documenti globalmente, se la versione nella parte soprastante è vuota il numero non compare
\newcommand{\PianoDiProgetto}{\emph{Piano di Progetto v\VersionePP{}}}
\newcommand{\NormeDiProgetto}{\emph{Norme di Progetto v\VersioneNP{}}}
\newcommand{\PianoDiQualifica}{\emph{Piano di Qualifica v\VersionePQ{}}}
\newcommand{\AnalisiDeiRequisiti}{\emph{Analisi dei Requisiti v\VersioneAR{}}}
\newcommand{\Glossario}{\emph{Glossario v\VersioneG{}}}
\newcommand{\SpecificaTecnica}{\emph{Specifica Tecnica v\VersioneST{}}}
\newcommand{\ManualeUtente}{\emph{Manuale Utente v\VersioneMU{}}}

% Per riferirsi alle revisioni usare i comandi seguenti:
\newcommand{\RTB}{Requirements and Technology Baseline}
\newcommand{\PB}{Product Baseline}
\newcommand{\CA}{Customer Acceptance}

% Comandi utili per riferirsi alle varie fasi
\newcommand{\AReq}{Analisi dei Requisiti}
\newcommand{\ARischi}{Analisi dei rischi}
\newcommand{\AD}{Analisi di Dettaglio}
\newcommand{\PA}{Progettazione Architetturale}
\newcommand{\PD}{Progettazione di Dettaglio}
\newcommand{\Cod}{Codifica}
\newcommand{\VV}{Verifica e Validazione}

%Comandi shortcut per riferirsi a documenti SENZA versione
\newcommand{\PdP}{\emph{Piano di Progetto}}
\newcommand{\PdQ}{\emph{Piano di Qualifica}}
\newcommand{\NdP}{\emph{Norme di Progetto}}
\newcommand{\AdR}{\emph{Analisi dei Requisiti}}
\newcommand{\Gls}{\emph{Glossario}}
\newcommand{\ST}{\emph{Specifica Tecnica}}
\newcommand{\MU}{\emph{Manuale Utente}}

%Comando shortcut per riferirsi al Way of Working
\newcommand{\WoW}{Way of Working}

% Comandi utili per riferirsi ai componenti del gruppo (Diari delle modifiche)
\newcommand{\tommaso}{Tommaso Stocco}
\newcommand{\sebastiano}{Sebastiano Lewental}
\newcommand{\marco}{Marco Cristo}
\newcommand{\riccardo}{Riccardo Cavalli}
\newcommand{\raul}{Raul Pianon}
\newcommand{\martina}{Martina Dall'Amico}
\newcommand{\mattia}{Mattia Zecchinato}


% Comandi utili per riferirsi ai ruoli di progetto
%% non rimuovere i caratteri % gestiscono gli spazi
\NewDocumentCommand{\Responsabile}{o}{%
  \IfNoValueTF{#1}
    {\textit{responsabile di progetto}}
    {\textit{Responsabile di progetto}}%
}
\NewDocumentCommand{\Amministratore}{o}{%
  \IfNoValueTF{#1}
    {\textit{amministratore}}
    {\textit{Amministratore}}%
}
\NewDocumentCommand{\Analista}{o}{%
  \IfNoValueTF{#1}
    {\textit{analista}}
    {\textit{Analista}}%
}
\NewDocumentCommand{\Progettista}{o}{%
  \IfNoValueTF{#1}
    {\textit{progettista}}
    {\textit{Progettista}}%
}
\NewDocumentCommand{\Programmatore}{o}{%
  \IfNoValueTF{#1}
    {\textit{programmatore}}
    {\textit{Programmatore}}%
}
\NewDocumentCommand{\Verificatore}{o}{%
  \IfNoValueTF{#1}
    {\textit{verificatore}}
    {\textit{Verificatore}}%
}
\NewDocumentCommand{\Redattore}{o}{%
  \IfNoValueTF{#1}
    {\textit{redattore}}
    {\textit{Redattore}}%
}

\NewDocumentCommand{\Amministratrice}{o}{%
  \IfNoValueTF{#1}
    {\textit{amministratrice}}
    {\textit{Amministratrice}}%
}
\NewDocumentCommand{\Programmatrice}{o}{%
  \IfNoValueTF{#1}
    {\textit{programmatrice}}
    {\textit{Programmatrice}}%
}
\NewDocumentCommand{\Redattrice}{o}{%
  \IfNoValueTF{#1}
    {\textit{redattrice}}
    {\textit{Redattrice}}%
}

% FIXME: rimuovere
% \newcommand{\Responsabile}{\textit{responsabile di progetto}}
% \newcommand{\Amministratore}{\textit{amministratore}}
% \newcommand{\Analista}{\textit{analista}}
% \newcommand{\Progettista}{\textit{progettista}}
% \newcommand{\Programmatore}{\textit{programmatore}}
% \newcommand{\Verificatore}{\textit{verificatore}}
% \newcommand{\Redattore}{\textit{redattore}}

% \newcommand{\Amministratrice}{\textit{amministratrice}}
% \newcommand{\Programmatrice}{\textit{programmatrice}}
% \newcommand{\Redattrice}{\textit{redattrice}}


\newcommand{\ScopoDelProdotto}{}

\newcommand{\ScopoDelProdottoEng}{}

\newcommand{\GlossarioIntroduzione}{
  Allo scopo di evitare incomprensioni relative al linguaggio utilizzato nella documentazione di progetto, viene fornito un \Gls, nel quale ciascun termine è corredato da una spiegazione che mira a disambiguare il suo significato. I termini tecnici, gli acronimi e i vocaboli ritenuti ambigui vengono formattati in corsivo all'interno dei rispettivi documenti e marcati con una lettera \ped{G} in pedice. Tutte le ricorrenze di un termine definito nel \Gls\ subiscono la formattazione sopracitata.
}

%Comando per i verbali esterni (solamente quando ci sono tanti termini tecnici o ambigui)
\newcommand{\GlossarioIntroduzioneVE}{
  Allo scopo di evitare incomprensioni relative al linguaggio utilizzato nella documentazione di progetto, viene fornito un \Gls, nel quale ciascun termine è corredato da una spiegazione che mira a disambiguare il suo significato. I termini tecnici, gli acronimi e i vocaboli ritenuti ambigui vengono formattati in corsivo all'interno dei rispettivi documenti e marcati con una lettera \ped{G} in pedice. In questo documento viene formattata solamente la prima ricorrenza di un termine definito nel \Gls.
}

\newcommand{\ToBeContinued}{\textit{Continua nella prossima pagina}}

% Altri comandi utili
\newcommand{\email}{email}
\newcommand*{\sezione}[1]{\hyperref[{#1}]{sezione §\ref*{#1}}}
\newcommand*{\appendice}[1]{\hyperref[{#1}]{Appendice \autoref*{#1}}}

% Bisognerebbe aggiungere anche altri brand utilizzati spesso nei vari documenti
\newcommand{\Macos}{macOs}

%%%%%%%%%%%%%%
%  FUNZIONI  %
%%%%%%%%%%%%%%

% In questa seconda parte vanno definite le 'funzioni' utilizzate da due o più documenti.

% Comando per usare comodamente le virgolette
\newcommand{\virgolette}[1]{``#1''}

\newcommand\flextt{%
	\fontdimen2\font=0.2em% interword space
	\fontdimen3\font=0.1em% interword stretch
	\fontdimen4\font=0.1em% interword shrink
	\fontdimen7\font=0.2em% extra space
	\hyphenchar\font=`\-
}

% Serve a dare la giusta formattazione al codice inline
\newcommand{\code}[1]{\ttfamily\flextt{#1}\normalfont}

% Serve a dare la giusta formattazione a tutte le path presenti nei documenti
\newcommand{\file}[1]{\flextt{#1}}

% Permette di andare a capo all'interno di una cella in una tabella
\newcommand{\multiLineCell}[2][c]{\begin{tabular}[#1]{@{}l@{}}#2\end{tabular}}

% Per l'allineamento delle immagini
\usepackage[export]{adjustbox}

% Genera automaticamente la pagina di copertina
\newcommand{\makeFrontPage}{
  % Declare new goemetry for the title page only.
  \newgeometry{top=2cm}
  \begin{titlepage}
  \begin{center}
  \vspace*{2cm}
  \begin{center}
  \includegraphics[width=8cm]{argo_square.png}
  \end{center}

%  \vspace{1cm}

  \begin{Huge}
  \textbf{\DocTitle{}}
  \end{Huge}

  \textbf{\emph{Gruppo \GroupName{} \, \texttwelveudash{} \, Progetto \ProjectName{}}}

  \vspace{10pt}

  \bgroup
  \def\arraystretch{1.3}
  \begin{tabular}{ r|l }
    \multicolumn{2}{c}{\textbf{Informazioni sul documento}} \\
    \hline
    \ifx\DocVersion\empty
      \ifdefined\DocData
        \ifx\DocData\empty
          % lascio vuoto
        \else
          \textbf{Data} & \DocData{} \\
        \fi
      \fi
    \else
      \textbf{Versione} & \faIcon{tag} \DocVersion{} \\
    \fi
    \textbf{Approvazione} & \multiLineCell[t]{\DocApprovazione{}} \\
    \textbf{Uso} & \DocUso{} \\
    \textbf{Distribuzione} & \multiLineCell[t]{\DocDistribuzione{}} \\
  \end{tabular}
  \egroup

  \vspace*{\fill}

  \begin{figure}[H]
	\includegraphics[height=3.5cm, center]{\ModelAssets{logo_unipd.png}}
  \end{figure}
  \end{center}
  \end{titlepage}

  % Ends the declared geometry for the titlepage
  \restoregeometry
}
